name = "paywall-worker"
main = "paywall-worker.js"
compatibility_date = "2025-12-06"

# Required: Worker API key for authenticating with the main application
# Generate this key and set it in both:
# 1. Worker environment variables (via Cloudflare Dashboard or wrangler secret)
# 2. Main application environment variable: WORKER_API_KEY
# Example: wrangler secret put WORKER_API_KEY
#
# Optional: API base URL (defaults to http://localhost:3000)
# [vars]
# API_BASE_URL = "https://your-app-domain.com"

# Optional: Payment configuration (can also be set via secrets)
# [vars]
# PAYMENT_ADDRESS = "0x..."
# PRICE_AMOUNT = "0.01"
# PRICE_CURRENCY = "MOVE"
# ACCESS_SERVER_URL = "https://your-app-domain.com"

# Note: Worker now fetches zone ID and Cloudflare token from database via API
# No hardcoded credentials needed - configuration is fetched per-domain from the database

[[kv_namespaces]]
binding = "PAYWALL_DB"
id = "f573def1f793421a800f1551bdc53378"

# Generated by deploy_with_env.sh

# Generated by deploy_with_env.sh

# Generated by deploy_with_env.sh

# Generated by deploy_with_env.sh
[vars]
API_BASE_URL = "https://aeb60bf11f3e.ngrok-free.app"

